import{c as a}from"./chunk-26DWTNIE.js";var c=(()=>{let o=class o{constructor(){this.SESSIONS_KEY="pomodoro_sessions",this.CONFIG_KEY="pomodoro_config"}saveConfig(e){localStorage.setItem(this.CONFIG_KEY,JSON.stringify(e))}getConfig(){let e=localStorage.getItem(this.CONFIG_KEY);return e?JSON.parse(e):{focusTime:25,breakTime:5}}saveSessions(e){localStorage.setItem(this.SESSIONS_KEY,JSON.stringify(e))}getSessions(){try{let e=localStorage.getItem(this.SESSIONS_KEY);if(!e)return[];let t=JSON.parse(e);return Array.isArray(t)?t.map(r=>{try{if(!r||typeof r!="object")return null;let s=new Date(r.date);return isNaN(s.getTime())?(console.warn("Invalid date in session:",r),null):{id:r.id||"",date:s,startTime:r.startTime||"",duration:Number(r.duration)||0,type:r.type==="enfoque"||r.type==="descanso"?r.type:"enfoque",completed:!!r.completed}}catch(s){return console.error("Error parsing session:",s,r),null}}).filter(r=>r!==null):(console.error("Invalid sessions data: not an array"),[])}catch(e){return console.error("Error loading sessions from localStorage:",e),[]}}addSession(e){try{if(!e||!e.date){console.error("Invalid session data:",e);return}let t=this.getSessions();t.push(e),this.saveSessions(t)}catch(t){console.error("Error adding session:",t)}}clearAllData(){localStorage.removeItem(this.SESSIONS_KEY),localStorage.removeItem(this.CONFIG_KEY)}};o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();export{c as a};
